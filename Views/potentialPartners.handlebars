
  <section class="container content-section">
      <h2 class="section-header">Explore potential matches</h2>
          <div class="like-user">
              <a href="/profile">Thor, 44<span class="like-user-title"></span></a>
                
              <img class="like-user-image" src="/public/image/user.jpg"width="25%">
              <div class="like-user-details">
                  <button class="btn btn-primary like-user-button" type="button">Like</button>
              </div>
              <div class="dislike-user-details" id="dislike"></div>
                <button class="btn btn-outline-danger dislike-user-button" type="button">Dislike</button>
          </div>
          </div>
        
          <div class="like-user">
              <span class="like-user-title">Ydun, 22</span>
              <img class="like-user-image" src="./public/user.jpg"width="25%">
              <div class="like-user-details">
                  <button class="btn btn-primary like-user-button"type="button">Like</button>
              </div>
              <div class="dislike-user-details" id="dislike"></div>
                <button class="btn btn-outline-danger dislike-user-button" type="button">Dislike</button>
          </div>
          </div>
          <div class="like-user" id="dislike">
              <span class="like-user-title">Freya, 29</span>
              <img class="like-user-image" src="./public/user.jpg"width="25%">
              <div class="like-user-details">
                  <button class="btn btn-primary like-user-button" type="button">Like</button>
              </div>
              <div class="dislike-user-details" id="dislike"></div>
                <button class="btn btn-outline-danger dislike-user-button" type="button">Dislike</button>
          </div>
          </div>
      </div> 
          <div class="like-user" id="dislike">
              <span class="like-user-title">Ægir, 33</span>
              <img class="like-user-image" src="./public/user.jpg" width="25%">
              <div class="like-user-details">
                  <button class="btn btn-primary like-user-button" type="button">Like</button>
              </div>
              <div class="dislike-user-details" id="dislike"></div>
                <button class="btn btn-outline-danger dislike-user-button" type="button">Dislike</button>
          </div>
          <div class="like-user" id="dislike">
              <span class="like-user-title">Sigfrid, 40</span>
              <img class="like-user-image" src="./public/user.jpg" width="25%">
              <div class="like-user-details">
                  <button class="btn btn-primary like-user-button" type="button">Like</button>
              </div>
              <div class="dislike-user-details" id="dislike"></div>
                <button class="btn btn-outline-danger dislike-user-button" type="button">Dislike</button>
          </div>
      </div>
  </section>
  <section class="container content-section">
      <h2 class="section-header">My matches</h2>
      <div class="match-row">
          <span class="match-user match-header match-column">Potential partners</span>
      </div>
      <div class="match-users">
      </div>
      <div class="match-total">
          <strong class="match-total-title">Total</strong>
      </div>
  </section>
</ul>
<script>
  if (document.readyState == 'loading') {
    document.addEventListener('DOMContentLoaded', ready)
} else {
    ready()
}

function ready() {
    var removeMatchButtons = document.getElementsByClassName('btn-danger')
    for (var i = 0; i < removeMatchButtons.length; i++) {
        var button = removeMatchButtons[i]
        button.addEventListener('click', removeMatch)
    }

    var likeButtons = document.getElementsByClassName('like-user-button')
    for (var i = 0; i < likeButtons.length; i++) {
        var button = likeButtons[i]
        button.addEventListener('click', likeUserClicked)

    }
    var dislikeButtons = document.getElementsByClassName('dislike-user-button')
    for (var i = 0; i < dislikeButtons.length; i++) {
        var button = dislikeButtons[i]
        button.addEventListener('click', dislikeUser)
    }
}


function removeMatch(event) {
    var buttonClicked = event.target
    buttonClicked.parentElement.parentElement.remove() 
}

function dislikeUser(event) {
    var buttonClicked = event.target
    buttonClicked.parentElement.remove()
}


function likeUserClicked(event) {
    var button = event.target
    var potentialPartner = button.parentElement.parentElement
    var title = potentialPartner.getElementsByClassName('like-user-title')[0].innerText
    var imageSrc = potentialPartner.getElementsByClassName('like-user-image')[0].src
    likeUser(title, imageSrc)
    alert('MATCH! Denne bruger har også liket dig!')
    matchTotal()
}

function likeUser(title, imageSrc) {
    var matchRow = document.createElement('div')
    matchRow.classList.add('match-row')
    var matchUsers = document.getElementsByClassName('match-users')[0]
    var matchUserNames = matchUsers.getElementsByClassName('like-user-title')
    for (var i = 0; i < matchUserNames.length; i++) {
        if (matchUserNames[i].innerText == title) {
            alert('This item is already added to the cart')
            return
        }
    }
    var matchRowContents = `
        <div class="match-user match-column">
            <img class="match-user-image" src="${imageSrc}" width="100" height="100">
            <span class="match-user-title">${title}</span>
            <button class="btn btn-danger" type="button">REMOVE</button>
        </div>`
    matchRow.innerHTML = matchRowContents
    matchUsers.append(matchRow)
    matchRow.getElementsByClassName('btn-danger')[0].addEventListener('click', removeMatch)
}

function matchTotal() {
    var matchUsersContainer = document.getElementsByClassName('match-users')[0]
    var matchRows = matchUsersContainer.getElementsByClassName('match-row')
    var total = 0
    for (var i = 0; i < matchRows.length; i++) {
        var matchRow = matchRows[i]
        total = matchRows.length
    } if (total > 0) {
    document.getElementsByClassName('match-total-title')[0].innerText = 'You have ' + total + ' match(es). Wow, you rock!'
}
}
/*
function dislikeUser() {
            document.getElementById("dislike").style.display = "none"; 

    }*/
</script>